const jaxon={};jaxon.config={};jaxon.debug={verbose:{}};jaxon.ajax={};jaxon.tools={};jaxon.cmd={};jaxon.config.setDefault=function(option,defaultValue){if('undefined'==typeof jaxon.config[option])
jaxon.config[option]=defaultValue;};jaxon.config.setDefault('commonHeaders',{'If-Modified-Since':'Sat, 1 Jan 2000 00:00:00 GMT'});jaxon.config.setDefault('postHeaders',{});jaxon.config.setDefault('getHeaders',{});jaxon.config.setDefault('waitCursor',false);jaxon.config.setDefault('statusMessages',false);jaxon.config.setDefault('baseDocument',document);jaxon.config.setDefault('requestURI',jaxon.config.baseDocument.URL);jaxon.config.setDefault('defaultMode','asynchronous');jaxon.config.setDefault('defaultHttpVersion','HTTP/1.1');jaxon.config.setDefault('defaultContentType','application/x-www-form-urlencoded');jaxon.config.setDefault('defaultResponseDelayTime',1000);jaxon.config.setDefault('defaultExpirationTime',10000);jaxon.config.setDefault('defaultMethod','POST');jaxon.config.setDefault('defaultRetry',5);jaxon.config.setDefault('defaultReturnValue',false);jaxon.config.setDefault('maxObjectDepth',20);jaxon.config.setDefault('maxObjectSize',2000);jaxon.config.setDefault('responseQueueSize',1000);jaxon.config.setDefault('requestQueueSize',1000);jaxon.config.status={update:function(){return{onRequest:function(){window.status='Sending Request...';},onWaiting:function(){window.status='Waiting for Response...';},onProcessing:function(){window.status='Processing...';},onComplete:function(){window.status='Done.';}}},dontUpdate:function(){return{onRequest:function(){},onWaiting:function(){},onProcessing:function(){},onComplete:function(){}}}};jaxon.config.cursor={update:function(){return{onWaiting:function(){if(jaxon.config.baseDocument.body)
jaxon.config.baseDocument.body.style.cursor='wait';},onComplete:function(){jaxon.config.baseDocument.body.style.cursor='auto';}}},dontUpdate:function(){return{onWaiting:function(){},onComplete:function(){}}}};jaxon.tools.ajax={createRequest:function(){if('undefined'!=typeof XMLHttpRequest){jaxon.tools.ajax.createRequest=function(){return new XMLHttpRequest();}}else if('undefined'!=typeof ActiveXObject){jaxon.tools.ajax.createRequest=function(){try{return new ActiveXObject('Msxml2.XMLHTTP.4.0');}catch(e){jaxon.tools.ajax.createRequest=function(){try{return new ActiveXObject('Msxml2.XMLHTTP');}catch(e2){jaxon.tools.ajax.createRequest=function(){return new ActiveXObject('Microsoft.XMLHTTP');}
return jaxon.tools.ajax.createRequest();}}
return jaxon.tools.ajax.createRequest();}}}else if(window.createRequest){jaxon.tools.ajax.createRequest=function(){return window.createRequest();};}else{jaxon.tools.ajax.createRequest=function(){throw{code:10002};};}
return jaxon.tools.ajax.createRequest();}};jaxon.tools.array={is_in:function(array,valueToCheck){let i=0;const l=array.length;while(i<l){if(array[i]==valueToCheck)
return true;++i;}
return false;}};jaxon.tools.dom={$:function(sId){if(!sId)
return null;if(typeof sId!='string')
return sId;const oDoc=jaxon.config.baseDocument;const obj=oDoc.getElementById(sId);if(obj)
return obj;if(oDoc.all)
return oDoc.all[sId];return obj;},getBrowserHTML:function(sValue){const oDoc=jaxon.config.baseDocument;if(!oDoc.body)
return'';const elWorkspace=jaxon.$('jaxon_temp_workspace');if(!elWorkspace){elWorkspace=oDoc.createElement('div');elWorkspace.setAttribute('id','jaxon_temp_workspace');elWorkspace.style.display='none';elWorkspace.style.visibility='hidden';oDoc.body.appendChild(elWorkspace);}
elWorkspace.innerHTML=sValue;const browserHTML=elWorkspace.innerHTML;elWorkspace.innerHTML='';return browserHTML;},willChange:function(element,attribute,newData){if('string'==typeof element)
element=jaxon.$(element);if(element){let oldData;oldData=element[attribute];return(newData!=oldData);}
return false;},findFunction:function(sFuncName){let context=window;const namespaces=sFuncName.split(".");for(const i=0;i<namespaces.length&&context!=undefined;i++){context=context[namespaces[i]];}
return context;}};jaxon.tools.form={getValues:function(parent){const submitDisabledElements=(arguments.length>1&&arguments[1]==true);const prefix=(arguments.length>2)?arguments[2]:'';if('string'==typeof parent)
parent=jaxon.$(parent);const aFormValues={};if(parent&&parent.childNodes)
jaxon.tools.form._getValues(aFormValues,parent.childNodes,submitDisabledElements,prefix);return aFormValues;},_getValues:function(aFormValues,children,submitDisabledElements,prefix){const iLen=children.length;for(let i=0;i<iLen;++i){const child=children[i];if(('undefined'!=typeof child.childNodes)&&(child.type!='select-one')&&(child.type!='select-multiple'))
jaxon.tools.form._getValues(aFormValues,child.childNodes,submitDisabledElements,prefix);jaxon.tools.form._getValue(aFormValues,child,submitDisabledElements,prefix);}},_getValue:function(aFormValues,child,submitDisabledElements,prefix){if(!child.name)
return;if('PARAM'==child.tagName)return;if(child.disabled)
if(true==child.disabled)
if(false==submitDisabledElements)
return;if(prefix!=child.name.substring(0,prefix.length))
return;if(child.type){if(child.type=='radio'||child.type=='checkbox')
if(false==child.checked)
return;if(child.type=='file')
return;}
const name=child.name;let values=[];if('select-multiple'==child.type){const jLen=child.length;for(let j=0;j<jLen;++j){const option=child.options[j];if(true==option.selected)
values.push(option.value);}}else{values=child.value;}
const keyBegin=name.indexOf('[');if(0<=keyBegin){let n=name;let k=n.substr(0,n.indexOf('['));let a=n.substr(n.indexOf('['));if(typeof aFormValues[k]=='undefined')
aFormValues[k]={};let p=aFormValues;while(a.length!=0){const sa=a.substr(0,a.indexOf(']')+1);const lk=k;const lp=p;a=a.substr(a.indexOf(']')+1);p=p[k];k=sa.substr(1,sa.length-2);if(k==''){if('select-multiple'==child.type){k=lk;p=lp;}else{k=p.length;}}
if(typeof k=='undefined'){k=0;for(let i in lp[lk])k++;}
if(typeof p[k]=='undefined'){p[k]={};}}
p[k]=values;}else{aFormValues[name]=values;}}};jaxon.tools.queue={create:function(size){return{start:0,count:0,size:size,end:0,elements:[],timeout:null}},empty:function(oQueue){return(oQueue.count<=0);},full:function(oQueue){return(oQueue.count>=oQueue.size);},push:function(oQueue,obj){if(jaxon.tools.queue.full(oQueue)){throw{code:10003};}
oQueue.elements[oQueue.end]=obj;if(++oQueue.end>=oQueue.size){oQueue.end=0;}
return++oQueue.count;},pushFront:function(oQueue,obj){if(jaxon.tools.queue.full(oQueue)){throw{code:10003};}
if(jaxon.tools.queue.empty(oQueue)){return jaxon.tools.queue.push(oQueue,obj);}
if(--oQueue.start<0){oQueue.start=oQueue.size-1;}
oQueue.elements[oQueue.start]=obj;return++oQueue.count;},pop:function(oQueue){if(jaxon.tools.queue.empty(oQueue)){return null;}
let obj=oQueue.elements[oQueue.start];delete oQueue.elements[oQueue.start];if(++oQueue.start>=oQueue.size){oQueue.start=0;}
oQueue.count--;return obj;},peek:function(oQueue){if(jaxon.tools.queue.empty(oQueue)){return null;}
return oQueue.elements[oQueue.start];}};jaxon.tools.string={doubleQuotes:function(haystack){if(typeof haystack=='undefined')return false;return haystack.replace(new RegExp("'",'g'),'"');},singleQuotes:function(haystack){if(typeof haystack=='undefined')return false;return haystack.replace(new RegExp('"','g'),"'");},stripOnPrefix:function(sEventName){sEventName=sEventName.toLowerCase();if(0==sEventName.indexOf('on'))
sEventName=sEventName.replace(/on/,'');return sEventName;},addOnPrefix:function(sEventName){sEventName=sEventName.toLowerCase();if(0!=sEventName.indexOf('on'))
sEventName='on'+sEventName;return sEventName;}};if(!String.prototype.supplant){String.prototype.supplant=function(o){return this.replace(/\{([^{}]*)\}/g,function(a,b){const r=o[b];return typeof r==='string'||typeof r==='number'?r:a;});};}
jaxon.tools.upload={createIframe:function(oRequest){const target='jaxon_upload_'+oRequest.upload.id;jaxon.cmd.node.remove(target);jaxon.cmd.node.insert(oRequest.upload.form,'iframe',target);oRequest.upload.iframe=jaxon.tools.dom.$(target);oRequest.upload.iframe.name=target;oRequest.upload.iframe.style.display='none';oRequest.upload.form.method='POST';oRequest.upload.form.enctype='multipart/form-data';oRequest.upload.form.action=jaxon.config.requestURI;oRequest.upload.form.target=target;return true;},_initialize:function(oRequest){if(!oRequest.upload){return false;}
oRequest.upload={id:oRequest.upload,input:null,form:null,ajax:oRequest.ajax};const input=jaxon.tools.dom.$(oRequest.upload.id);if(!input){console.log('Unable to find input field for file upload with id '+oRequest.upload.id);return false;}
if(input.type!=='file'){console.log('The upload input field with id '+oRequest.upload.id+' is not of type file');return false;}
if(input.files.length===0){console.log('There is no file selected for upload in input field with id '+oRequest.upload.id);return false;}
if(typeof input.name==='undefined'){console.log('The upload input field with id '+oRequest.upload.id+' has no name attribute');return false;}
oRequest.upload.input=input;oRequest.upload.form=input.form;if(oRequest.upload.ajax!=false)
return true;if(!input.form){let form=input;while(form!==null&&form.nodeName!=='FORM')
form=form.parentNode;if(form===null){console.log('The upload input field with id '+oRequest.upload.id+' is not in a form');return false;}
oRequest.upload.form=form;}
jaxon.tools.upload.createIframe(oRequest);return true;},initialize:function(oRequest){jaxon.tools.upload._initialize(oRequest);if(!oRequest.upload||!oRequest.upload.ajax||!oRequest.upload.input){oRequest.append('postHeaders',{'content-type':oRequest.contentType});}}};jaxon.cmd.delay={popAsyncRequest:function(oQueue){if(jaxon.tools.queue.empty(oQueue)){return null;}
if(jaxon.tools.queue.peek(oQueue).mode==='synchronous'){return null;}
return jaxon.tools.queue.pop(oQueue);},retry:function(command,count){let retries=command.retries;if(retries){--retries;if(1>retries){return false;}}else{retries=count;}
command.retries=retries;command.requeue=true;return true;},setWakeup:function(response,when){if(response.timeout!==null){clearTimeout(response.timeout);response.timeout=null;}
response.timout=setTimeout(function(){jaxon.ajax.response.process(response);},when);},confirmCallback:function(command,count,skip){if(skip===true){while(count>0&&command.response.count>1&&jaxon.tools.queue.pop(command.response)!==null){--count;}}
if(command.requeue===true){jaxon.cmd.delay.setWakeup(command.response,30);}else{jaxon.ajax.response.process(command.response);}},confirm:function(command,count,question){command.requeue=true;jaxon.ajax.message.confirm(question,'',function(){jaxon.cmd.delay.confirmCallback(command,count,false);},function(){jaxon.cmd.delay.confirmCallback(command,count,true);});command.requeue=false;return false;}};jaxon.cmd.event={setEvent:function(command){command.fullName='setEvent';const target=command.id;const sEvent=command.prop;const code=command.data;if(typeof target==='string')
target=jaxon.$(target);sEvent=jaxon.tools.string.addOnPrefix(sEvent);code=jaxon.tools.string.doubleQuotes(code);eval('target.'+sEvent+' = function(e) { '+code+'; }');return true;},addHandler:function(command){if(window.addEventListener){jaxon.cmd.event.addHandler=function(command){command.fullName='addHandler';const target=command.id;const sEvent=command.prop;const sFuncName=command.data;if(typeof target==='string')
target=jaxon.$(target);sEvent=jaxon.tools.string.stripOnPrefix(sEvent);eval('target.addEventListener("'+sEvent+'", '+sFuncName+', false);');return true;}}else{jaxon.cmd.event.addHandler=function(command){command.fullName='addHandler';const target=command.id;const sEvent=command.prop;const sFuncName=command.data;if(typeof target==='string')
target=jaxon.$(target);sEvent=jaxon.tools.string.addOnPrefix(sEvent);eval('target.attachEvent("'+sEvent+'", '+sFuncName+', false);');return true;}}
return jaxon.cmd.event.addHandler(command);},removeHandler:function(command){if(window.removeEventListener){jaxon.cmd.event.removeHandler=function(command){command.fullName='removeHandler';const target=command.id;const sEvent=command.prop;const sFuncName=command.data;if(typeof target==='string')
target=jaxon.$(target);sEvent=jaxon.tools.string.stripOnPrefix(sEvent);eval('target.removeEventListener("'+sEvent+'", '+sFuncName+', false);');return true;}}else{jaxon.cmd.event.removeHandler=function(command){command.fullName='removeHandler';const target=command.id;const sEvent=command.prop;const sFuncName=command.data;if(typeof target==='string')
target=jaxon.$(target);sEvent=jaxon.tools.string.addOnPrefix(sEvent);eval('target.detachEvent("'+sEvent+'", '+sFuncName+', false);');return true;}}
return jaxon.cmd.event.removeHandler(command);}};jaxon.cmd.form={getInput:function(type,name,id){if('undefined'==typeof window.addEventListener){jaxon.cmd.form.getInput=function(type,name,id){return jaxon.config.baseDocument.createElement('<input type="'+type+'" name="'+name+'" id="'+id+'">');}}else{jaxon.cmd.form.getInput=function(type,name,id){const oDoc=jaxon.config.baseDocument;const Obj=oDoc.createElement('input');Obj.setAttribute('type',type);Obj.setAttribute('name',name);Obj.setAttribute('id',id);return Obj;}}
return jaxon.cmd.form.getInput(type,name,id);},createInput:function(command){command.fullName='createInput';const objParent=command.id;const sType=command.type;const sName=command.data;const sId=command.prop;if('string'==typeof objParent)
objParent=jaxon.$(objParent);const target=jaxon.cmd.form.getInput(sType,sName,sId);if(objParent&&target){objParent.appendChild(target);}
return true;},insertInput:function(command){command.fullName='insertInput';const objSibling=command.id;const sType=command.type;const sName=command.data;const sId=command.prop;if('string'==typeof objSibling)
objSibling=jaxon.$(objSibling);const target=jaxon.cmd.form.getInput(sType,sName,sId);if(target&&objSibling&&objSibling.parentNode)
objSibling.parentNode.insertBefore(target,objSibling);return true;},insertInputAfter:function(command){command.fullName='insertInputAfter';const objSibling=command.id;const sType=command.type;const sName=command.data;const sId=command.prop;if('string'==typeof objSibling)
objSibling=jaxon.$(objSibling);const target=jaxon.cmd.form.getInput(sType,sName,sId);if(target&&objSibling&&objSibling.parentNode)
objSibling.parentNode.insertBefore(target,objSibling.nextSibling);return true;}};jaxon.cmd.node={assign:function(element,property,data){if('string'==typeof element)
element=jaxon.$(element);switch(property){case'innerHTML':element.innerHTML=data;break;case'outerHTML':if('undefined'==typeof element.outerHTML){const r=jaxon.config.baseDocument.createRange();r.setStartBefore(element);const df=r.createContextualFragment(data);element.parentNode.replaceChild(df,element);}else element.outerHTML=data;break;default:if(jaxon.tools.dom.willChange(element,property,data))
eval('element.'+property+' = data;');break;}
return true;},append:function(element,property,data){if('string'==typeof element)
element=jaxon.$(element);if((window.insertAdjacentHTML)||(element.insertAdjacentHTML))
if(property=='innerHTML')
element.insertAdjacentHTML('beforeend',data);else if(property=='outerHTML')
element.insertAdjacentHTML('afterend',data);else
element[property]+=data;else
eval('element.'+property+' += data;');return true;},prepend:function(element,property,data){if('string'==typeof element)
element=jaxon.$(element);eval('element.'+property+' = data + element.'+property);return true;},replace:function(element,sAttribute,aData){const sReplace=aData['r'];const sSearch=(sAttribute==='innerHTML')?jaxon.tools.dom.getBrowserHTML(aData['s']):aData['s'];if(typeof element==='string')
element=jaxon.$(element);eval('let txt = element.'+sAttribute);let bFunction=false;if(typeof txt==='function'){txt=txt.join('');bFunction=true;}
let start=txt.indexOf(sSearch);if(start>-1){const newTxt=[];while(start>-1){const end=start+sSearch.length;newTxt.push(txt.substr(0,start));newTxt.push(sReplace);txt=txt.substr(end,txt.length-end);start=txt.indexOf(sSearch);}
newTxt.push(txt);newTxt=newTxt.join('');if(bFunction){eval('element.'+sAttribute+'=newTxt;');}else if(jaxon.tools.dom.willChange(element,sAttribute,newTxt)){eval('element.'+sAttribute+'=newTxt;');}}
return true;},remove:function(element){if('string'==typeof element)
element=jaxon.$(element);if(element&&element.parentNode&&element.parentNode.removeChild)
element.parentNode.removeChild(element);return true;},create:function(objParent,sTag,sId){if('string'==typeof objParent)
objParent=jaxon.$(objParent);const target=jaxon.config.baseDocument.createElement(sTag);target.setAttribute('id',sId);if(objParent)
objParent.appendChild(target);return true;},insert:function(objSibling,sTag,sId){if('string'==typeof objSibling)
objSibling=jaxon.$(objSibling);const target=jaxon.config.baseDocument.createElement(sTag);target.setAttribute('id',sId);objSibling.parentNode.insertBefore(target,objSibling);return true;},insertAfter:function(objSibling,sTag,sId){if('string'==typeof objSibling)
objSibling=jaxon.$(objSibling);const target=jaxon.config.baseDocument.createElement(sTag);target.setAttribute('id',sId);objSibling.parentNode.insertBefore(target,objSibling.nextSibling);return true;},contextAssign:function(command){command.fullName='context assign';const code=[];code.push('this.');code.push(command.prop);code.push(' = data;');code=code.join('');command.context.jaxonDelegateCall=function(data){eval(code);}
command.context.jaxonDelegateCall(command.data);return true;},contextAppend:function(command){command.fullName='context append';const code=[];code.push('this.');code.push(command.prop);code.push(' += data;');code=code.join('');command.context.jaxonDelegateCall=function(data){eval(code);}
command.context.jaxonDelegateCall(command.data);return true;},contextPrepend:function(command){command.fullName='context prepend';const code=[];code.push('this.');code.push(command.prop);code.push(' = data + this.');code.push(command.prop);code.push(';');code=code.join('');command.context.jaxonDelegateCall=function(data){eval(code);}
command.context.jaxonDelegateCall(command.data);return true;}};jaxon.cmd.script={includeScriptOnce:function(command){command.fullName='includeScriptOnce';const fileName=command.data;const oDoc=jaxon.config.baseDocument;const loadedScripts=oDoc.getElementsByTagName('script');const iLen=loadedScripts.length;for(let i=0;i<iLen;++i){const script=loadedScripts[i];if(script.src){if(0<=script.src.indexOf(fileName))
return true;}}
return jaxon.cmd.script.includeScript(command);},includeScript:function(command){command.fullName='includeScript';const oDoc=jaxon.config.baseDocument;const objHead=oDoc.getElementsByTagName('head');const objScript=oDoc.createElement('script');objScript.src=command.data;if('undefined'==typeof command.type)objScript.type='text/javascript';else objScript.type=command.type;if('undefined'!=typeof command.type)objScript.setAttribute('id',command.elm_id);objHead[0].appendChild(objScript);return true;},removeScript:function(command){command.fullName='removeScript';const fileName=command.data;const unload=command.unld;const oDoc=jaxon.config.baseDocument;const loadedScripts=oDoc.getElementsByTagName('script');const iLen=loadedScripts.length;for(let i=0;i<iLen;++i){const script=loadedScripts[i];if(script.src){if(0<=script.src.indexOf(fileName)){if('undefined'!=typeof unload){const _command={};_command.data=unload;_command.context=window;jaxon.cmd.script.execute(_command);}
const parent=script.parentNode;parent.removeChild(script);}}}
return true;},sleep:function(command){command.fullName='sleep';if(jaxon.cmd.delay.retry(command,command.prop)){jaxon.cmd.delay.setWakeup(command.response,100);return false;}
return true;},alert:function(command){command.fullName='alert';jaxon.ajax.message.info(command.data);return true;},confirm:function(command){command.fullName='confirm';jaxon.cmd.delay.confirm(command,command.count,command.data);return false;},execute:function(command){command.fullName='execute Javascript';const returnValue=true;command.context=command.context?command.context:{};command.context.jaxonDelegateCall=function(){eval(command.data);};command.context.jaxonDelegateCall();return returnValue;},waitFor:function(command){command.fullName='waitFor';let bResult=false;const cmdToEval='bResult = (';cmdToEval+=command.data;cmdToEval+=');';try{command.context.jaxonDelegateCall=function(){eval(cmdToEval);}
command.context.jaxonDelegateCall();}catch(e){}
if(false==bResult){if(jaxon.cmd.delay.retry(command,command.prop)){jaxon.cmd.delay.setWakeup(command.response,100);return false;}}
return true;},call:function(command){command.fullName='call js function';const parameters=command.data;const scr=new Array();scr.push(command.func);scr.push('(');if('undefined'!=typeof parameters){if('object'==typeof parameters){const iLen=parameters.length;if(0<iLen){scr.push('parameters[0]');for(let i=1;i<iLen;++i)
scr.push(', parameters['+i+']');}}}
scr.push(');');command.context.jaxonDelegateCall=function(){eval(scr.join(''));}
command.context.jaxonDelegateCall();return true;},setFunction:function(command){command.fullName='setFunction';const code=new Array();code.push(command.func);code.push(' = function(');if('object'==typeof command.prop){let separator='';for(let m in command.prop){code.push(separator);code.push(command.prop[m]);separator=',';}}else code.push(command.prop);code.push(') { ');code.push(command.data);code.push(' }');command.context.jaxonDelegateCall=function(){eval(code.join(''));}
command.context.jaxonDelegateCall();return true;},wrapFunction:function(command){command.fullName='wrapFunction';const code=new Array();code.push(command.func);code.push(' = jaxon.cmd.script.makeWrapper(');code.push(command.func);code.push(', command.prop, command.data, command.type, command.context);');command.context.jaxonDelegateCall=function(){eval(code.join(''));}
command.context.jaxonDelegateCall();return true;},makeWrapper:function(origFun,args,codeBlocks,returnVariable,context){const originalCall=(returnVariable.length>0?returnVariable+' = ':'')+
origFun+'('+args+'); ';let code='wrapper = function('+args+') { ';if(returnVariable.length>0){code+=' let '+returnVariable+' = null;';}
let separator='';const bLen=codeBlocks.length;for(let b=0;b<bLen;++b){code+=separator+codeBlocks[b];separator=originalCall;}
if(returnVariable.length>0){code+=' return '+returnVariable+';';}
code+=' } ';let wrapper=null;context.jaxonDelegateCall=function(){eval(code);}
context.jaxonDelegateCall();return wrapper;}};jaxon.cmd.style={add:function(fileName,media){const oDoc=jaxon.config.baseDocument;const oHeads=oDoc.getElementsByTagName('head');const oHead=oHeads[0];const oLinks=oHead.getElementsByTagName('link');const found=false;const iLen=oLinks.length;for(let i=0;i<iLen&&false==found;++i)
if(0<=oLinks[i].href.indexOf(fileName)&&oLinks[i].media==media)
found=true;if(false==found){const oCSS=oDoc.createElement('link');oCSS.rel='stylesheet';oCSS.type='text/css';oCSS.href=fileName;oCSS.media=media;oHead.appendChild(oCSS);}
return true;},remove:function(fileName,media){const oDoc=jaxon.config.baseDocument;const oHeads=oDoc.getElementsByTagName('head');const oHead=oHeads[0];const oLinks=oHead.getElementsByTagName('link');let i=0;while(i<oLinks.length)
if(0<=oLinks[i].href.indexOf(fileName)&&oLinks[i].media==media)
oHead.removeChild(oLinks[i]);else++i;return true;},waitForCSS:function(command){const oDocSS=jaxon.config.baseDocument.styleSheets;const ssEnabled=[];let iLen=oDocSS.length;for(let i=0;i<iLen;++i){ssEnabled[i]=0;try{ssEnabled[i]=oDocSS[i].cssRules.length;}catch(e){try{ssEnabled[i]=oDocSS[i].rules.length;}catch(e){}}}
const ssLoaded=true;iLen=ssEnabled.length;for(let i=0;i<iLen;++i)
if(0==ssEnabled[i])
ssLoaded=false;if(false==ssLoaded){if(jaxon.cmd.delay.retry(command,command.prop)){jaxon.cmd.delay.setWakeup(command.response,10);return false;}}
return true;}};jaxon.cmd.tree={startResponse:function(command){jxnElm=[];},createElement:function(command){eval([command.tgt,' = document.createElement(command.data)'].join(''));},setAttribute:function(command){command.context.jaxonDelegateCall=function(){eval([command.tgt,'.setAttribute(command.key, command.data)'].join(''));}
command.context.jaxonDelegateCall();},appendChild:function(command){command.context.jaxonDelegateCall=function(){eval([command.par,'.appendChild(',command.data,')'].join(''));}
command.context.jaxonDelegateCall();},insertBefore:function(command){command.context.jaxonDelegateCall=function(){eval([command.tgt,'.parentNode.insertBefore(',command.data,', ',command.tgt,')'].join(''));}
command.context.jaxonDelegateCall();},insertAfter:function(command){command.context.jaxonDelegateCall=function(){eval([command.tgt,'parentNode.insertBefore(',command.data,', ',command.tgt,'.nextSibling)'].join(''));}
command.context.jaxonDelegateCall();},appendText:function(command){command.context.jaxonDelegateCall=function(){eval([command.par,'.appendChild(document.createTextNode(command.data))'].join(''));}
command.context.jaxonDelegateCall();},removeChildren:function(command){let skip=command.skip||0;let remove=command.remove||-1;let element=null;command.context.jaxonDelegateCall=function(){eval(['element = ',command.data].join(''));}
command.context.jaxonDelegateCall();const children=element.childNodes;for(let i in children){if(isNaN(i)==false&&children[i].nodeType==1){if(skip>0)skip=skip-1;else if(remove!=0){if(remove>0)
remove=remove-1;element.removeChild(children[i]);}}}},endResponse:function(command){jxnElm=[];}};jaxon.ajax.callback={create:function(){const xc=jaxon.config;const xcb=jaxon.ajax.callback;const oCB={};oCB.timers={};oCB.timers.onResponseDelay=xcb.setupTimer((arguments.length>0)?arguments[0]:xc.defaultResponseDelayTime);oCB.timers.onExpiration=xcb.setupTimer((arguments.length>1)?arguments[1]:xc.defaultExpirationTime);oCB.onPrepare=null;oCB.onRequest=null;oCB.onResponseDelay=null;oCB.onExpiration=null;oCB.beforeResponseProcessing=null;oCB.onFailure=null;oCB.onRedirect=null;oCB.onSuccess=null;oCB.onComplete=null;return oCB;},setupTimer:function(iDelay){return{timer:null,delay:iDelay};},clearTimer:function(oCallback,sFunction){if('undefined'==typeof oCallback.timers){for(let i=0;i<oCallback.length;++i){jaxon.ajax.callback.clearTimer(oCallback[i],sFunction);}
return;}
if('undefined'!=typeof oCallback.timers[sFunction]){clearTimeout(oCallback.timers[sFunction].timer);}},execute:function(oCallback,sFunction,args){if('undefined'==typeof oCallback.timers){for(let i=0;i<oCallback.length;++i){jaxon.ajax.callback.execute(oCallback[i],sFunction,args);}
return;}
if('undefined'==typeof oCallback[sFunction]||'function'!=typeof oCallback[sFunction]){return;}
let func=oCallback[sFunction];if('undefined'!=typeof oCallback.timers[sFunction]){oCallback.timers[sFunction].timer=setTimeout(function(){func(args);},oCallback.timers[sFunction].delay);}else{func(args);}}};jaxon.ajax.handler={handlers:[],execute:function(command){if(jaxon.ajax.handler.isRegistered(command)){if(command.id){command.target=jaxon.$(command.id);}
return jaxon.ajax.handler.call(command);}
return true;},register:function(shortName,func){jaxon.ajax.handler.handlers[shortName]=func;},unregister:function(shortName){const func=jaxon.ajax.handler.handlers[shortName];delete jaxon.ajax.handler.handlers[shortName];return func;},isRegistered:function(command){return(jaxon.ajax.handler.handlers[command.cmd])?true:false;},call:function(command){return jaxon.ajax.handler.handlers[command.cmd](command);}};jaxon.ajax.handler.register('rcmplt',function(command){jaxon.ajax.response.complete(command.request);return true;});jaxon.ajax.handler.register('css',function(command){command.fullName='includeCSS';if('undefined'==typeof command.media)
command.media='screen';return jaxon.cmd.style.add(command.data,command.media);});jaxon.ajax.handler.register('rcss',function(command){command.fullName='removeCSS';if('undefined'==typeof command.media)
command.media='screen';return jaxon.cmd.style.remove(command.data,command.media);});jaxon.ajax.handler.register('wcss',function(command){command.fullName='waitForCSS';return jaxon.cmd.style.waitForCSS(command);});jaxon.ajax.handler.register('as',function(command){command.fullName='assign/clear';try{return jaxon.cmd.node.assign(command.target,command.prop,command.data);}catch(e){}
return true;});jaxon.ajax.handler.register('ap',function(command){command.fullName='append';return jaxon.cmd.node.append(command.target,command.prop,command.data);});jaxon.ajax.handler.register('pp',function(command){command.fullName='prepend';return jaxon.cmd.node.prepend(command.target,command.prop,command.data);});jaxon.ajax.handler.register('rp',function(command){command.fullName='replace';return jaxon.cmd.node.replace(command.id,command.prop,command.data);});jaxon.ajax.handler.register('rm',function(command){command.fullName='remove';return jaxon.cmd.node.remove(command.id);});jaxon.ajax.handler.register('ce',function(command){command.fullName='create';return jaxon.cmd.node.create(command.id,command.data,command.prop);});jaxon.ajax.handler.register('ie',function(command){command.fullName='insert';return jaxon.cmd.node.insert(command.id,command.data,command.prop);});jaxon.ajax.handler.register('ia',function(command){command.fullName='insertAfter';return jaxon.cmd.node.insertAfter(command.id,command.data,command.prop);});jaxon.ajax.handler.register('DSR',jaxon.cmd.tree.startResponse);jaxon.ajax.handler.register('DCE',jaxon.cmd.tree.createElement);jaxon.ajax.handler.register('DSA',jaxon.cmd.tree.setAttribute);jaxon.ajax.handler.register('DAC',jaxon.cmd.tree.appendChild);jaxon.ajax.handler.register('DIB',jaxon.cmd.tree.insertBefore);jaxon.ajax.handler.register('DIA',jaxon.cmd.tree.insertAfter);jaxon.ajax.handler.register('DAT',jaxon.cmd.tree.appendText);jaxon.ajax.handler.register('DRC',jaxon.cmd.tree.removeChildren);jaxon.ajax.handler.register('DER',jaxon.cmd.tree.endResponse);jaxon.ajax.handler.register('c:as',jaxon.cmd.node.contextAssign);jaxon.ajax.handler.register('c:ap',jaxon.cmd.node.contextAppend);jaxon.ajax.handler.register('c:pp',jaxon.cmd.node.contextPrepend);jaxon.ajax.handler.register('s',jaxon.cmd.script.sleep);jaxon.ajax.handler.register('ino',jaxon.cmd.script.includeScriptOnce);jaxon.ajax.handler.register('in',jaxon.cmd.script.includeScript);jaxon.ajax.handler.register('rjs',jaxon.cmd.script.removeScript);jaxon.ajax.handler.register('wf',jaxon.cmd.script.waitFor);jaxon.ajax.handler.register('js',jaxon.cmd.script.execute);jaxon.ajax.handler.register('jc',jaxon.cmd.script.call);jaxon.ajax.handler.register('sf',jaxon.cmd.script.setFunction);jaxon.ajax.handler.register('wpf',jaxon.cmd.script.wrapFunction);jaxon.ajax.handler.register('al',jaxon.cmd.script.alert);jaxon.ajax.handler.register('cc',jaxon.cmd.script.confirm);jaxon.ajax.handler.register('ci',jaxon.cmd.form.createInput);jaxon.ajax.handler.register('ii',jaxon.cmd.form.insertInput);jaxon.ajax.handler.register('iia',jaxon.cmd.form.insertInputAfter);jaxon.ajax.handler.register('ev',jaxon.cmd.event.setEvent);jaxon.ajax.handler.register('ah',jaxon.cmd.event.addHandler);jaxon.ajax.handler.register('rh',jaxon.cmd.event.removeHandler);jaxon.ajax.handler.register('dbg',function(command){command.fullName='debug message';console.log(command.data);return true;});jaxon.ajax.message={success:function(content,title){alert(content);},info:function(content,title){alert(content);},warning:function(content,title){alert(content);},error:function(content,title){alert(content);},confirm:function(question,title,yesCallback,noCallback){if(confirm(question)){yesCallback();}else if(noCallback!=undefined){noCallback();}}};jaxon.ajax.parameters={bags:{},stringify:function(oVal){if(oVal===undefined||oVal===null){return'*';}
const sType=typeof oVal;if(sType==='object'){try{return encodeURIComponent(JSON.stringify(oVal));}catch(e){oVal='';}}
oVal=encodeURIComponent(oVal);if(sType==='string'){return'S'+oVal;}
if(sType==='boolean'){return'B'+oVal;}
if(sType==='number'){return'N'+oVal;}
return oVal;},toFormData:function(oRequest){const rd=new FormData();rd.append('jxnr',oRequest.dNow.getTime());const input=oRequest.upload.input;for(const file of input.files){rd.append(input.name,file);}
for(let sCommand in oRequest.functionName){rd.append(sCommand,encodeURIComponent(oRequest.functionName[sCommand]));}
if(oRequest.parameters){for(const oVal of oRequest.parameters){rd.append('jxnargs[]',jaxon.ajax.parameters.stringify(oVal));}}
if(oRequest.bags){const oValues={};for(const sBag of oRequest.bags){oValues[sBag]=jaxon.ajax.parameters.bags[sBag]??'*';}
rd.append('jxnbags',jaxon.ajax.parameters.stringify(oValues));}
oRequest.requestURI=oRequest.URI;oRequest.requestData=rd;},toUrlEncoded:function(oRequest){const rd=[];rd.push('jxnr='+oRequest.dNow.getTime());for(const sCommand in oRequest.functionName){rd.push(sCommand+'='+encodeURIComponent(oRequest.functionName[sCommand]));}
if(oRequest.parameters){for(const oVal of oRequest.parameters){rd.push('jxnargs[]='+jaxon.ajax.parameters.stringify(oVal));}}
if(oRequest.bags){const oValues={};for(const sBag of oRequest.bags){oValues[sBag]=jaxon.ajax.parameters.bags[sBag]??'*';}
rd.push('jxnbags='+jaxon.ajax.parameters.stringify(oValues));}
oRequest.requestURI=oRequest.URI;if('GET'===oRequest.method){oRequest.requestURI+=oRequest.requestURI.indexOf('?')===-1?'?':'&';oRequest.requestURI+=rd.join('&');rd=[];}
oRequest.requestData=rd.join('&');},process:function(oRequest){const func=(oRequest.upload&&oRequest.upload.ajax&&oRequest.upload.input)?jaxon.ajax.parameters.toFormData:jaxon.ajax.parameters.toUrlEncoded;oRequest.dNow=new Date();func(oRequest);delete oRequest.dNow;}};jaxon.ajax.request={initialize:function(oRequest){const xx=jaxon;const xc=xx.config;oRequest.append=function(opt,def){if('undefined'==typeof this[opt])
this[opt]={};for(const itmName in def)
if('undefined'==typeof this[opt][itmName])
this[opt][itmName]=def[itmName];};oRequest.append('commonHeaders',xc.commonHeaders);oRequest.append('postHeaders',xc.postHeaders);oRequest.append('getHeaders',xc.getHeaders);oRequest.set=function(option,defaultValue){if('undefined'==typeof this[option])
this[option]=defaultValue;};oRequest.set('statusMessages',xc.statusMessages);oRequest.set('waitCursor',xc.waitCursor);oRequest.set('mode',xc.defaultMode);oRequest.set('method',xc.defaultMethod);oRequest.set('URI',xc.requestURI);oRequest.set('httpVersion',xc.defaultHttpVersion);oRequest.set('contentType',xc.defaultContentType);oRequest.set('retry',xc.defaultRetry);oRequest.set('returnValue',xc.defaultReturnValue);oRequest.set('maxObjectDepth',xc.maxObjectDepth);oRequest.set('maxObjectSize',xc.maxObjectSize);oRequest.set('context',window);oRequest.set('upload',false);oRequest.set('aborted',false);const xcb=xx.ajax.callback;const lcb=xcb.create();lcb.take=function(frm,opt){if('undefined'!=typeof frm[opt]){lcb[opt]=frm[opt];lcb.hasEvents=true;}
delete frm[opt];};lcb.take(oRequest,'onPrepare');lcb.take(oRequest,'onRequest');lcb.take(oRequest,'onResponseDelay');lcb.take(oRequest,'onExpiration');lcb.take(oRequest,'beforeResponseProcessing');lcb.take(oRequest,'onFailure');lcb.take(oRequest,'onRedirect');lcb.take(oRequest,'onSuccess');lcb.take(oRequest,'onComplete');if('undefined'!=typeof oRequest.callback){if('undefined'==typeof oRequest.callback.timers){oRequest.callback.timers=[];}
if(lcb.hasEvents){oRequest.callback=[oRequest.callback,lcb];}}else{oRequest.callback=lcb;}
oRequest.status=(oRequest.statusMessages)?xc.status.update():xc.status.dontUpdate();oRequest.cursor=(oRequest.waitCursor)?xc.cursor.update():xc.cursor.dontUpdate();oRequest.method=oRequest.method.toUpperCase();if('GET'!=oRequest.method)
oRequest.method='POST';oRequest.requestRetry=oRequest.retry;oRequest.ajax=!!window.FormData;jaxon.tools.upload.initialize(oRequest);delete oRequest['append'];delete oRequest['set'];delete lcb['take'];if('undefined'==typeof oRequest.URI)
throw{code:10005};},prepare:function(oRequest){const xx=jaxon;const xt=xx.tools;const xcb=xx.ajax.callback;const gcb=xx.callback;const lcb=oRequest.callback;xcb.execute([gcb,lcb],'onPrepare',oRequest);if(oRequest.aborted===true){return false;}
oRequest.request=xt.ajax.createRequest();oRequest.setRequestHeaders=function(headers){if('object'===typeof headers){for(let optionName in headers)
this.request.setRequestHeader(optionName,headers[optionName]);}};oRequest.setCommonRequestHeaders=function(){this.setRequestHeaders(this.commonHeaders);};oRequest.setPostRequestHeaders=function(){this.setRequestHeaders(this.postHeaders);};oRequest.setGetRequestHeaders=function(){this.setRequestHeaders(this.getHeaders);};oRequest.request.onreadystatechange=function(){if(oRequest.request.readyState!==4){return;}
if(jaxon.tools.queue.empty(jaxon.cmd.delay.q.send)||'synchronous'==oRequest.mode){jaxon.ajax.response.received(oRequest);}else{jaxon.tools.queue.push(jaxon.cmd.delay.q.recv,oRequest);}};oRequest.finishRequest=function(){return this.returnValue;};if('undefined'!==typeof oRequest.userName&&'undefined'!==typeof oRequest.password){oRequest.open=function(){this.request.open(this.method,this.requestURI,true,oRequest.userName,oRequest.password);};}else{oRequest.open=function(){this.request.open(this.method,this.requestURI,true);};}
if('POST'==oRequest.method){oRequest.applyRequestHeaders=function(){this.setCommonRequestHeaders();try{this.setPostRequestHeaders();}catch(e){this.method='GET';this.requestURI+=this.requestURI.indexOf('?')==-1?'?':'&';this.requestURI+=this.requestData;this.requestData='';if(0==this.requestRetry)this.requestRetry=1;throw e;}}}else{oRequest.applyRequestHeaders=function(){this.setCommonRequestHeaders();this.setGetRequestHeaders();};}
let submitRequest=jaxon.tools.queue.empty(jaxon.cmd.delay.q.send);if('synchronous'===oRequest.mode){jaxon.tools.queue.push(jaxon.cmd.delay.q.send,oRequest);jaxon.tools.queue.push(jaxon.cmd.delay.q.recv,oRequest);}else if(!submitRequest){jaxon.tools.queue.push(jaxon.cmd.delay.q.send,oRequest);}
return submitRequest;},submit:function(oRequest){oRequest.status.onRequest();const xx=jaxon;const xcb=xx.ajax.callback;const gcb=xx.callback;const lcb=oRequest.callback;xcb.execute([gcb,lcb],'onResponseDelay',oRequest);xcb.execute([gcb,lcb],'onExpiration',oRequest);xcb.execute([gcb,lcb],'onRequest',oRequest);oRequest.open();oRequest.applyRequestHeaders();oRequest.cursor.onWaiting();oRequest.status.onWaiting();if(oRequest.upload!==false&&!oRequest.upload.ajax&&oRequest.upload.form){oRequest.upload.iframe.onload=function(){jaxon.ajax.response.upload(oRequest);}
oRequest.upload.form.submit();}else{jaxon.ajax.request._send(oRequest);}
return oRequest.finishRequest();},_send:function(oRequest){oRequest.request.send(oRequest.requestData);},abort:function(oRequest){oRequest.aborted=true;oRequest.request.abort();jaxon.ajax.response.complete(oRequest);},execute:function(functionName,functionArgs){if(functionName===undefined)
return false;const oRequest=functionArgs??{};oRequest.functionName=functionName;const xx=jaxon;xx.ajax.request.initialize(oRequest);xx.ajax.parameters.process(oRequest);while(oRequest.requestRetry>0){try{if(xx.ajax.request.prepare(oRequest)){--oRequest.requestRetry;return xx.ajax.request.submit(oRequest);}
return null;}catch(e){jaxon.ajax.callback.execute([jaxon.callback,oRequest.callback],'onFailure',oRequest);if(oRequest.requestRetry===0)
throw e;}}}};jaxon.ajax.response={received:function(oRequest){const xx=jaxon;const xcb=xx.ajax.callback;const gcb=xx.callback;const lcb=oRequest.callback;if(oRequest.aborted){return null;}
oRequest.response=xx.tools.queue.create(xx.config.responseQueueSize);xcb.clearTimer([gcb,lcb],'onExpiration');xcb.clearTimer([gcb,lcb],'onResponseDelay');xcb.execute([gcb,lcb],'beforeResponseProcessing',oRequest);const fProc=xx.ajax.response.processor(oRequest);if(null==fProc){xcb.execute([gcb,lcb],'onFailure',oRequest);xx.ajax.response.complete(oRequest);return;}
return fProc(oRequest);},complete:function(oRequest){jaxon.ajax.callback.execute([jaxon.callback,oRequest.callback],'onComplete',oRequest);oRequest.cursor.onComplete();oRequest.status.onComplete();delete oRequest['functionName'];delete oRequest['requestURI'];delete oRequest['requestData'];delete oRequest['requestRetry'];delete oRequest['request'];delete oRequest['response'];delete oRequest['set'];delete oRequest['open'];delete oRequest['setRequestHeaders'];delete oRequest['setCommonRequestHeaders'];delete oRequest['setPostRequestHeaders'];delete oRequest['setGetRequestHeaders'];delete oRequest['applyRequestHeaders'];delete oRequest['finishRequest'];delete oRequest['status'];delete oRequest['cursor'];if('synchronous'==oRequest.mode){let jq=jaxon.tools.queue;let jd=jaxon.cmd.delay;jq.pop(jd.q.send);jq.pop(jd.q.recv);while((recvRequest=jd.popAsyncRequest(jd.q.recv))!=null){jaxon.ajax.response.received(recvRequest);}
while((nextRequest=jd.popAsyncRequest(jd.q.send))!=null){jaxon.ajax.request.submit(nextRequest);}
if((nextRequest=jq.peek(jd.q.send))!=null){jaxon.ajax.request.submit(nextRequest);}}},process:function(response){if(null!=response.timeout){clearTimeout(response.timeout);response.timeout=null;}
let command=null;while((command=jaxon.tools.queue.pop(response))!=null){try{if(false==jaxon.ajax.handler.execute(command)){if(command.requeue==true){jaxon.tools.queue.pushFront(response,command);}else{delete command;}
return false;}}catch(e){console.log(e);}
delete command;}
return true;},processFragment:function(nodes,seq,oRet,oRequest){const xx=jaxon;const xt=xx.tools;for(nodeName in nodes){if('jxnobj'==nodeName){for(a in nodes[nodeName]){if(parseInt(a)!=a)continue;const command=nodes[nodeName][a];command.fullName='*unknown*';command.sequence=seq;command.response=oRequest.response;command.request=oRequest;command.context=oRequest.context;xt.queue.push(oRequest.response,command);++seq;}}else if('jxnrv'==nodeName){oRet=nodes[nodeName];}else if('debugmsg'==nodeName){txt=nodes[nodeName];}else{throw{code:10004,data:command.fullName};}}
return oRet;},processor:function(oRequest){if('undefined'!=typeof oRequest.responseProcessor){return oRequest.responseProcessor;}
let cTyp=oRequest.request.getResponseHeader('content-type');if(!cTyp){return null;}
let responseText='';if(0<=cTyp.indexOf('application/json')){responseText=oRequest.request.responseText;}
else if(0<=cTyp.indexOf('text/html')){responseText=oRequest.request.responseText;let jsonStart=responseText.indexOf('{"jxnobj"');if(jsonStart<0){return null;}
if(jsonStart>0){responseText=responseText.substr(jsonStart);}}
try{oRequest.request.responseJSON=JSON.parse(responseText);return jaxon.ajax.response.json;}catch(ex){return null;}},json:function(oRequest){const xx=jaxon;const xt=xx.tools;const xcb=xx.ajax.callback;const gcb=xx.callback;const lcb=oRequest.callback;let oRet=oRequest.returnValue;if(xt.array.is_in(xx.ajax.response.successCodes,oRequest.request.status)){xcb.execute([gcb,lcb],'onSuccess',oRequest);let seq=0;if('object'==typeof oRequest.request.responseJSON&&'object'==typeof oRequest.request.responseJSON.jxnobj){oRequest.status.onProcessing();oRet=xx.ajax.response.processFragment(oRequest.request.responseJSON,seq,oRet,oRequest);}else{}
const command={};command.fullName='Response Complete';command.sequence=seq;command.request=oRequest;command.context=oRequest.context;command.cmd='rcmplt';xt.queue.push(oRequest.response,command);if(null==oRequest.response.timeout){xx.ajax.response.process(oRequest.response);}}else if(xt.array.is_in(xx.ajax.response.redirectCodes,oRequest.request.status)){xcb.execute([gcb,lcb],'onRedirect',oRequest);window.location=oRequest.request.getResponseHeader('location');xx.ajax.response.complete(oRequest);}else if(xt.array.is_in(xx.ajax.response.errorsForAlert,oRequest.request.status)){xcb.execute([gcb,lcb],'onFailure',oRequest);xx.ajax.response.complete(oRequest);}
return oRet;},upload:function(oRequest){const xx=jaxon;const xcb=xx.ajax.callback;const gcb=xx.callback;const lcb=oRequest.callback;let endRequest=false;const res=oRequest.upload.iframe.contentWindow.res;if(!res||!res.code){jaxon.ajax.message.error('The server returned an invalid response');endRequest=true;}else if(res.code==='error'){jaxon.ajax.message.error(res.msg);endRequest=true;}
if(endRequest){xcb.clearTimer([gcb,lcb],'onExpiration');xcb.clearTimer([gcb,lcb],'onResponseDelay');xcb.execute([gcb,lcb],'onFailure',oRequest);jaxon.ajax.response.complete(oRequest);return;}
if(res.code==='success'){oRequest.requestData+='&jxnupl='+encodeURIComponent(res.upl);jaxon.ajax.request._send(oRequest);}},successCodes:['0','200'],errorsForAlert:['400','401','402','403','404','500','501','502','503'],redirectCodes:['301','302','307']};jaxon.dom={};(function(funcName,baseObj){"use strict";funcName=funcName||"docReady";baseObj=baseObj||window;let readyList=[];let readyFired=false;let readyEventHandlersInstalled=false;function ready(){if(!readyFired){readyFired=true;for(let i=0;i<readyList.length;i++){readyList[i].fn.call(window,readyList[i].ctx);}
readyList=[];}}
function readyStateChange(){if(document.readyState==="complete"){ready();}}
baseObj[funcName]=function(callback,context){if(readyFired){setTimeout(function(){callback(context);},1);return;}else{readyList.push({fn:callback,ctx:context});}
if(document.readyState==="complete"||(!document.attachEvent&&document.readyState==="interactive")){setTimeout(ready,1);}else if(!readyEventHandlersInstalled){if(document.addEventListener){document.addEventListener("DOMContentLoaded",ready,false);window.addEventListener("load",ready,false);}else{document.attachEvent("onreadystatechange",readyStateChange);window.attachEvent("onload",ready);}
readyEventHandlersInstalled=true;}}})("ready",jaxon.dom);jaxon.callback=jaxon.ajax.callback.create();jaxon.request=jaxon.ajax.request.execute;jaxon.register=jaxon.ajax.handler.register;jaxon.$=jaxon.tools.dom.$;jaxon.getFormValues=jaxon.tools.form.getValues;jaxon.msg=jaxon.ajax.message;jaxon.js=jaxon.cmd.script;jaxon.isLoaded=true;jaxon.cmd.delay.q={send:jaxon.tools.queue.create(jaxon.config.requestQueueSize),recv:jaxon.tools.queue.create(jaxon.config.requestQueueSize*2)};jaxon.command={handler:{},handler:{register:jaxon.ajax.handler.register},create:function(sequence,request,context){return{cmd:'*',fullName:'* unknown command name *',sequence:sequence,request:request,context:context};}};const jxn={$:jaxon.tools.dom.$,getFormValues:jaxon.tools.form.getValues,request:jaxon.request};